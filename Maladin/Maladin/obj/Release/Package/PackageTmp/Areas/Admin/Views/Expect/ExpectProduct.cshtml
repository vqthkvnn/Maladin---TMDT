
@{
    ViewBag.Title = "Kiểm Duyệt Sản Phẩm Mới";
    Layout = "~/Areas/Admin/Views/Shared/_layout_admin.cshtml";
}
<title>@ViewBag.Title</title>
@model Maladin.Areas.Admin.Models.WaitProductModels
@section Scripts{
    <script>
        $(document).ready(function () {

            // code to read selected table row cell data (values).
            $("#list-wait-product").on('click', '#delete-wait-product', function () {
                // get the current row
                var currentRow = $(this).closest("tr");

                var col1 = currentRow.find("td:eq(0)").text(); // get current row 1st TD value
                console.log(col1);
                $.ajax({
                        type: "POST",
                        url: '@Url.Action("DeleteApproved", "Product")?id=' + col1,
                        dataType: "json",
                        cache: false,
                    success: function () {
                        alert("Delete Complate " + col1);
                        window.location.reload();

                        },
                        error: function () { alert('fail'); }
                    });
            });
            $("#list-wait-product").on('click', '#accept-wait-product', function () {
                // get the current row
                var currentRow = $(this).closest("tr");

                var col1 = currentRow.find("td:eq(0)").text(); // get current row 1st TD value
                console.log(col1);
                $.ajax({
                        type: "POST",
                        url: '@Url.Action("AcceptApproved", "Product")?id=' + col1,
                        dataType: "json",
                        cache: false,
                    success: function () {
                        alert("Accept Complate " + col1);
                        window.location.reload();

                        },
                        error: function () { alert('fail'); }
                    });
            });
            $('').append($('<li>').text());


        });
    </script>
}
<div class="row approved-product">
    <div class="col-lg-12 grid-margin stretch-card">
        <div class="card">
            <div class="card-body">
                <h4 class="card-title">Danh sách sản phẩm mới cần phê duyệt</h4>
                <div class="table-responsive">
                    <table class="table table-hover" id="list-wait-product">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Tên sản phẩm</th>
                                <th>Giá</th>
                                <th>Tên Công Ty</th>
                                <th>Loại Sản Phẩm</th>
                                <th>Quốc gia</th>
                                <th>Tài khoản gửi</th>
                                <th>Thời gian gửi</th>
                                <th>Hành động</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var i in Model.ListProduct)
                            {
                                <tr>
                                    <td>@i.ID</td>
                                    <td>@i.Name</td>
                                    <td>@i.Price</td>
                                    <td>@i.NameProducer</td>
                                    <td>@i.NameType</td>
                                    <td>@i.NameOrigin</td>
                                    <td>@i.NameUserSend</td>
                                    <td>@i.DateSend</td>
                                    <td>
                                        <button type="button" class="btn btn-inverse-info btn-icon" id="accept-wait-product">
                                            <i class="mdi mdi-check-all"></i>
                                        </button>
                                        <button type="button" class="btn btn-inverse-info btn-icon" id="show-wait-product">
                                            <i class="mdi mdi-content-paste"></i>
                                        </button>
                                        <button type="button" class="btn btn-inverse-info btn-icon" id="delete-wait-product">
                                            <i class="mdi mdi-close"></i>
                                        </button>
                                    </td>
                                </tr>
                            }



                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>


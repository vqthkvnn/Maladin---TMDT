
@{
    ViewBag.Title = "Theo dõi đơn hàng";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@model Maladin.Models.OrderDetailModel
<title>@ViewBag.Title</title>
@section Scripts{
    <style>


        #progressbar {
            width: 100%;
            margin-bottom: 30px;
            overflow: hidden;
            color: #455A64;
            padding-left: 0px;
            margin-top: 30px
        }

            #progressbar li {
                list-style-type: none;
                width: 16.66%;
                float: left;
                position: relative;
                font-weight: 400
            }

            #progressbar #step1:before {
                content: "1";
            }

            #progressbar #step2:before {
                content: "2";
            }

            #progressbar #step3:before {
                content: "3";
            }

            #progressbar #step4:before {
                content: "4";
            }

            #progressbar #step5:before {
                content: "5";
            }

            #progressbar #step6:before {
                content: "6";
            }

            #progressbar li:before {
                width: 40px;
                height: 40px;
                line-height: 45px;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 20px;
                background: #455A64;
                border-radius: 50%;
                margin: auto;
                color: #fff;
            }

            #progressbar li:after {
                content: '';
                width: 100%;
                height: 2px;
                background: #455A64;
                position: absolute;
                left: 0;
                top: 21px;
                z-index: -1
            }

            #progressbar li:last-child:after {
                border-top-right-radius: 10px;
                border-bottom-right-radius: 10px;
                position: absolute;
                left: -50%
            }

            #progressbar li:first-child:after {
                border-top-left-radius: 10px;
                border-bottom-left-radius: 10px;
                position: absolute;
                left: 50%
            }

            #progressbar li:last-child:after {
                border-top-right-radius: 10px;
                border-bottom-right-radius: 10px
            }

            #progressbar li:first-child:after {
                border-top-left-radius: 10px;
                border-bottom-left-radius: 10px
            }

            #progressbar li.active:before,
            #progressbar li.active:after {
                background: red
            }

        .font-nor {
            font-size: 13px;
            color: rgb(32, 32, 32);
            font-weight: normal;
            font-family: Roboto, Helvetica, Arial, sans-serif;
        }

        .searchbar {
            margin-bottom: auto;
            margin-top: auto;
            height: 60px;
            background-color: #353b48;
            border-radius: 30px;
            padding: 10px;
        }

        .search_input {
            color: white;
            border: 0;
            outline: 0;
            background: none;
            width: 450px;
            caret-color: transparent;
            line-height: 40px;
            transition: width 0.4s linear;
        }

        .searchbar:hover > .search_icon {
            background: white;
            color: #e74c3c;
        }

        .search_icon {
            height: 40px;
            width: 40px;
            float: right;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 50%;
            color: white;
            text-decoration: none;
        }
    </style>
    <script>
        function select_(number) {
            var i = 1;
            var u;
            var v = document.getElementById('step' + number);
            console.log(v);
            for (i = 1; i <= 5; i++)
                $("#step" + i).removeClass("active");
            for (i = 1; i <= number; i++)
                $("#step" + i).addClass("active");


        }
        @if (Model==null)
        {
            @:$("#kqtk").text("Đơn hàng đã bị hủy");
        }
        else if (Model.status == -1 && Model!=null)
        {

        }
        else
        {
            @:select_(@Model.status+1);
        }

    </script>
}
<div class="row">
    <form method="get">
        <div class="d-flex justify-content-center h-100" style="margin-left: 300px;">
            <div class="searchbar">
                <input class="search_input" type="text" name="ido" placeholder="Search...">
                <button type="submit" class="search_icon"><i class="fa fa-search"></i></button>
            </div>
        </div>
    </form>
</div>
@if (ViewBag.ID != null && Model!=null)
{
    <div class="res">
        <h1 style="text-align:center" id="kqtk">Kết quả tìm kiếm đơn cho hàng:<code>@ViewBag.ID</code></h1>
        <div class="row">
            <h1 class="display-2 text-center mb-5"></h1>
            <ul id="progressbar" class="text-center">
                <li class="" id="step1"><div class="d-none d-md-block">Đặt hàng thành công</div></li>
                <li class="" id="step2"><div class="d-none d-md-block">Đã Xác Nhận Đơn Hàng</div></li>
                <li class="" id="step3"><div class="d-none d-md-block">Đã Chuyển</div></li>
                <li class="" id="step4"><div class="d-none d-md-block">Đang vận chuyển</div></li>
                <li class="" id="step5"><div class="d-none d-md-block">Giao hàng thành công</div></li>
            </ul>
        </div>
        <div class="row" style="border: 1px solid gray;">
            <div class="col font-nor">
                <span><b>Địa chỉ người nhận</b></span>
                <br>
                <span>@Model.NameGuest</span>
                <br>
                <span>@Model.AdressGuest</span>
            </div>
            <div class="col font-nor">
                <span><b>Thời gian giao hàng vận chuyển</b></span>
                <br>
                <span>Vận chuyển tiết kiệm</span>
                <br>
                <span>Thứ 4 ngày 4/6/2020</span>
            </div>
            <div class="col font-nor">
                <span><b>Thông tin thanh toán</b></span>
                <br>
                <span>@Model.NameGuest</span>
                <br>
                <span>@Model.AdressGuest</span>
            </div>
            <div class="col font-nor">
                <span><b>Phương thức thanh toán</b></span>
                <br>
                @if (Model.TypeOrder == "TT")
                {
                    <span>Thanh toán bằng Maladin Coin</span>
                }
                else
                {
                    <span>Thanh toán tiền mặt khi nhận hàng</span>
                }
            </div>

        </div>
        <p class="font-nor" style="text-align: center;margin-top: 30px;">Đơn hàng bao gồm</p>
        <div class="row" style="border: 1px solid gray;">
            <table class="table table-bordered font-nor">
                <thead>
                    <tr>
                        <th>Tên Sản Phẩm</th>
                        <th>Số lượng</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>@Model.NameProduct</td>
                        <td>@Model.CountOrder</td>
                    </tr>


                </tbody>
            </table>
        </div>
    </div>
}
